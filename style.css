:root{
  --max-width:1100px;
  --radius:14px;
  --muted:#6b7280;
  --glass: rgba(255,255,255,0.6);
  --accent-1: #FF7A7A; /* warm coral */
  --accent-2: #FFB86B; /* peach */
  --accent-3: #7EE8C5; /* mint */
}
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family: 'Poppins', Inter, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
  background: radial-gradient(1200px 600px at 10% 10%, #FFF7D9 0%, transparent 10%),
              radial-gradient(900px 500px at 90% 90%, #E8F7FF 0%, transparent 10%),
              linear-gradient(180deg,#FFFDF5 0%, #FFF 100%);
  color:#0b1220;
  -webkit-font-smoothing:antialiased;
}
.app-header{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:12px;
  padding:22px 26px;
  background: linear-gradient(90deg, rgba(255,255,255,0.7), rgba(255,255,255,0.5));
  border-bottom: 1px solid rgba(15,23,42,0.04);
}
.app-header{margin-left:280px;transition:margin-left .18s ease}
.app-header h1{margin:0;font-size:22px;color:var(--accent-1)}
.app-header h1 small{display:block;font-size:12px;color:var(--muted);font-weight:600}
.header-controls{display:flex;gap:10px;align-items:center}
.header-controls input[type=search]{padding:10px 14px;border-radius:12px;border:1px solid rgba(15,23,42,0.06);min-width:180px;background:rgba(255,255,255,0.9)}
.header-controls button{padding:8px 12px;border-radius:12px;border:0;background:linear-gradient(90deg,var(--accent-1),var(--accent-2));color:#fff;cursor:pointer;box-shadow:0 6px 20px rgba(255,122,122,0.12)}
/* main layout: reserve space for fixed sidebar */
.container{max-width:var(--max-width);margin:26px auto;padding:0 18px;display:grid;grid-template-columns:360px 1fr;gap:22px;margin-left:280px}
.note-editor{background:var(--glass);border-radius:var(--radius);padding:14px;border:1px solid rgba(15,23,42,0.05);backdrop-filter:blur(6px)}
.note-editor input,#noteBody{width:100%;padding:12px;border-radius:10px;border:1px solid rgba(15,23,42,0.06);margin-bottom:10px;font-size:14px;background:rgba(255,255,255,0.9)}
.editor-row{display:flex;align-items:center;justify-content:space-between;gap:12px}
.colors{display:flex;gap:8px;flex-wrap:wrap}
.color-swatch{width:36px;height:36px;border-radius:10px;border:3px solid transparent;cursor:pointer;box-shadow:0 6px 18px rgba(2,6,23,0.06);transition:transform .18s, box-shadow .18s}
.color-swatch:hover{transform:translateY(-4px);box-shadow:0 12px 30px rgba(2,6,23,0.08)}
.color-swatch.selected{transform:translateY(-6px);box-shadow:0 18px 40px rgba(2,6,23,0.12);border-color:rgba(255,255,255,0.8)}
.editor-actions{display:flex;gap:8px}
button#saveBtn{background:linear-gradient(90deg,var(--accent-1),var(--accent-2));color:#fff;padding:10px 14px;border-radius:12px;border:0;cursor:pointer;box-shadow:0 10px 30px rgba(255,186,107,0.14)}
.hidden{display:none}
.secondary{background:transparent;border:1px solid rgba(15,23,42,0.06);padding:10px 12px;border-radius:12px}
.notes-list{min-height:200px}
.grid{display:grid;grid-template-columns:repeat(auto-fill, minmax(220px, 1fr));gap:16px}
.note-card{padding:14px;border-radius:14px;min-height:100px;display:flex;flex-direction:column;gap:12px;box-shadow:0 12px 30px rgba(2,6,23,0.06);border:1px solid rgba(0,0,0,0.02);transition:transform .18s, box-shadow .18s}
.note-card:hover{transform:translateY(-6px);box-shadow:0 20px 50px rgba(2,6,23,0.08)}

/* Entry animation for newly created cards */
.note-card.enter{animation:pop-in .34s cubic-bezier(.2,.9,.25,1) both}

@keyframes pop-in{
  0%{opacity:0;transform:scale(.96) translateY(6px)}
  60%{opacity:1;transform:scale(1.02) translateY(-4px)}
  100%{transform:scale(1) translateY(0)}
}

/* Button micro-interactions */
.btn-icon.pulse{animation:pulse .36s ease-out}
.btn-icon.tada{animation:tada .56s cubic-bezier(.2,.8,.2,1)}

@keyframes pulse{
  0%{transform:scale(1)}
  50%{transform:scale(1.18)}
  100%{transform:scale(1)}
}

@keyframes tada{
  0%{transform:scale(1) rotate(0)}
  10%{transform:scale(.98) rotate(-10deg)}
  30%{transform:scale(1.06) rotate(8deg)}
  50%{transform:scale(.99) rotate(-6deg)}
  70%{transform:scale(1.03) rotate(4deg)}
  100%{transform:scale(1) rotate(0)}
}

/* Reveal actions on hover */
.note-actions{opacity:0;transform:translateY(6px);transition:opacity .18s ease, transform .18s ease}
.note-card:hover .note-actions{opacity:1;transform:translateY(0)}

/* Save button hover */
button#saveBtn:hover{transform:translateY(-3px) scale(1.02);box-shadow:0 14px 36px rgba(255,122,122,0.12)}

/* Focus states */
.note-editor input:focus, .note-editor textarea:focus, .header-controls input:focus{outline:3px solid rgba(125,211,252,0.12);border-color:rgba(125,211,252,0.3)}
.note-top{display:flex;justify-content:space-between;align-items:center}
.note-title{display:block;font-size:15px;color:#0b1220}
.note-body{flex:1;font-size:14px;color:#123}
.note-meta{display:flex;justify-content:space-between;align-items:center}
.note-date{color:var(--muted);font-size:12px}
.note-actions .btn{background:transparent;border:1px solid rgba(0,0,0,0.06);padding:6px 8px;border-radius:10px;cursor:pointer}
.btn-icon{background:transparent;border:0;font-size:16px;cursor:pointer}
.btn.small{font-size:12px}
.pinned{box-shadow:0 20px 55px rgba(255,186,107,0.12);border:1px solid rgba(255,186,107,0.08)}
.starred{outline:4px solid rgba(255,241,118,0.18);border-radius:14px}
.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}
@media (max-width:900px){
  .container{grid-template-columns:1fr;}
}

/* Sidebar (fixed left) */
.sidebar{position:fixed;left:20px;top:20px;bottom:20px;width:240px;background:rgba(255,255,255,0.6);padding:12px;border-radius:12px;border:1px solid rgba(15,23,42,0.04);overflow:auto;box-shadow:0 12px 30px rgba(2,6,23,0.04)}
.sidebar.collapsed{width:68px}
.sidebar-top{display:flex;flex-direction:column;gap:8px;margin-bottom:12px}
.nav-btn{background:transparent;border:0;padding:10px 12px;border-radius:10px;text-align:left;cursor:pointer;color:#0b1220;font-weight:600;display:flex;align-items:center;gap:8px}
.nav-btn.active{background:linear-gradient(90deg,#FFEED9,#E7F0FF);box-shadow:0 8px 20px rgba(2,6,23,0.04)}
.folders{display:block;max-height:calc(100vh - 200px);overflow:auto;padding-top:6px}
.year-item{margin-bottom:10px}
.year-label{font-weight:700;padding:6px 8px;border-radius:8px;background:rgba(255,255,255,0.6);cursor:default}
.months-list{margin-top:6px;padding-left:6px;display:flex;flex-direction:column;gap:6px}
.month-item{padding:6px 8px;border-radius:8px;cursor:pointer;color:var(--muted);font-size:13px;background:transparent;border:0;text-align:left}
.month-item:hover{background:rgba(0,0,0,0.03);color:#0b1220}
.month-item .count{float:right;color:#9ca3af;font-weight:600}
.sidebar-footer{margin-top:12px;text-align:center}

/* Previous notes header */
.previous-section{margin-top:6px}
.previous-header{font-size:13px;color:var(--muted);padding:8px 6px;border-radius:8px;background:linear-gradient(90deg, rgba(255,255,255,0.4), rgba(255,255,255,0.2));font-weight:700;display:flex;justify-content:space-between;align-items:center;cursor:pointer}

/* collapsed by default â€” reveal years when expanded */
.previous-section .year-item{display:none}
.previous-section.expanded .year-item{display:block}
.previous-header .arrow{font-size:12px;color:var(--muted);margin-left:8px}

/* When the sidebar is collapsed, shrink labels */
.sidebar.collapsed .nav-btn{justify-content:center;padding:10px}
.sidebar.collapsed .nav-btn span{display:none}
.month-notes{margin-top:6px;padding-left:8px;display:flex;flex-direction:column;gap:4px}
.note-link{font-size:12px;color:var(--muted);background:transparent;border:0;text-align:left;padding:4px 8px;border-radius:6px;cursor:pointer}
.note-link:hover{background:rgba(0,0,0,0.03);color:#0b1220}
.year-label{display:flex;justify-content:space-between;align-items:center}
.year-toggle{background:transparent;border:0;font-size:12px;cursor:pointer;color:var(--muted)}
.sidebar.collapsed .year-label{display:none}
.sidebar.collapsed .months-list{display:none}

@media(max-width:900px){
  .sidebar{position:static;width:auto;box-shadow:none;margin:12px}
  .container{margin-left:0;grid-template-columns:1fr}
  .app-header{margin-left:0}
}

/* Grouping headers */
.year-group{margin-bottom:22px}
.year-header{font-size:18px;color:#0b1220;margin:18px 0 10px;padding:6px 10px;border-radius:10px;background:linear-gradient(90deg, rgba(255,255,255,0.6), rgba(255,255,255,0.3));box-shadow:0 8px 24px rgba(2,6,23,0.04)}
.month-header{font-size:14px;color:var(--muted);margin:10px 0;padding-left:6px}
.month-grid{display:grid;grid-template-columns:repeat(auto-fill, minmax(220px, 1fr));gap:16px;margin-bottom:6px}
